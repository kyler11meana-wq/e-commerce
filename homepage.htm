<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Polaris - Premium Apple Products</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Reset some default styles */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); }

        /* Header and Navigation */
        .header { background: linear-gradient(45deg, #2c3e50, #3498db); color: white; padding: 1rem 0; text-align: center; animation: fadeIn 1.5s ease-in; }
        .nav { background: rgba(255,255,255,0.95); box-shadow: 0 2px 5px rgba(0,0,0,0.1); padding: 0.5rem 2rem; display:flex; justify-content:space-between; align-items:center; gap:1rem; flex-wrap:wrap; }
        .nav-links { display:flex; align-items:center; gap:1.25rem; }
        .nav a { color:#2c3e50; text-decoration:none; transition: color 0.3s ease; font-size:1rem; }
        .nav a:hover { color:#3498db; }
        .cart-checkout { display:flex; align-items:center; gap:0.75rem; }
        .cart-icon, .checkout-btn { cursor:pointer; transition:transform 0.2s ease; color:#2c3e50; font-size:1.4rem; position:relative; }
        .cart-count { position:absolute; top:-8px; right:-10px; background:#e74c3c; color:white; font-size:0.7rem; padding:2px 6px; border-radius:20px; }

        /* Products */
        .products-container { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:1.25rem; padding:1.5rem; max-width:1200px; margin:0 auto; }
        .product-card { background: linear-gradient(145deg,#ffffff,#f8f9fa); border-radius:12px; padding:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.08); transition:transform 0.25s ease, box-shadow 0.25s ease; display:flex; flex-direction:column; gap:0.6rem; }
        .product-card:hover { transform:translateY(-6px); box-shadow:0 10px 25px rgba(0,0,0,0.12); }
        .product-image { width:100%; height:180px; object-fit:contain; background:#fff; border-radius:8px; }
        .price { color:#3498db; font-size:1.2rem; font-weight:700; margin-top:0.4rem; }
        .actions { margin-top:auto; display:flex; gap:0.6rem; }
        .buy-btn { background:linear-gradient(45deg,#3498db,#2980b9); color:white; border:none; padding:0.55rem 0.9rem; border-radius:20px; cursor:pointer; font-weight:600; }
        .cart-btn { background:transparent; border:1px solid #2c3e50; padding:0.4rem 0.7rem; border-radius:20px; cursor:pointer; display:flex; gap:0.5rem; align-items:center; }
        .cart-btn .fa { color:#2c3e50; }
        .buy-btn:hover, .cart-btn:hover { transform:scale(1.03); opacity:0.95; }

        /* Hero Section */
        .hero { background: linear-gradient(45deg,#3498db,#2980b9); color:white; text-align:center; padding:2.5rem 1rem; border-radius:12px; margin:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.12); }
        .hero h2 { font-size:1.8rem; margin-bottom:0.6rem; }
        .hero p { font-size:1rem; opacity:0.9; }

        footer { background: linear-gradient(45deg,#2c3e50,#34495e); color:white; text-align:center; padding:1.5rem; margin:2rem; border-radius:8px; }

        @media (max-width:768px) {
            .nav { flex-direction:column; align-items:center; }
            .nav-links { flex-direction:column; gap:0.5rem; }
            .products-container { padding:1rem; }
        }

        /* small helper */
        .muted { opacity:0.85; font-size:0.95rem; color:#2c3e50; }
    </style>
</head>
<body>
    <header class="header">
        <h1>Polaris</h1>
        <p>Next Generation Apple Products</p>
    </header>

    <nav class="nav">
        <div class="nav-links">
            <a href="homepage.htm"><i class="fas fa-home"></i> Home</a>
            <a href="products.htm"><i class="fas fa-box"></i> Products</a>
            <a href="#about"><i class="fas fa-info-circle"></i> About</a>
            <a href="#contact"><i class="fas fa-envelope"></i> Contact</a>
        </div>

        <div class="cart-checkout">
            <a href="cart.htm" class="cart-icon" title="View cart">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="cart-count" style="display:none">0</span>
            </a>
            <a href="checkout.htm" class="checkout-btn" title="Checkout">
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </nav>

    <section class="hero">
        <h2>Discover the Future of Apple</h2>
        <p>Experience the latest in innovation and design with Polaris. Explore our exclusive range of cutting-edge Apple products.</p>
    </section>

    <div class="products-container">
        <!-- Each product's Pre-order button opens the pre-order page with the product info in the query string.
             The Add to Cart button adds the product to localStorage cart immediately. -->
        <div class="product-card" data-name="iPhone 17 Pro" data-price="787.99" data-img="">
            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQDw8QDw8QEA8QDw8VFg8QFRAPDxAQFREXGBUVFRUYHSggGBolGxUVITEhJikrLi4uFx8zODMsNygtLisBCgoKDg0OFxAQGisdHR0tLS0rLS0tLS0tLS0[...]" alt="iPhone 17 Pro" class="product-image">
            <h3>iPhone 17 Pro</h3>
            <p class="muted">Revolutionary A18 Bionic chip with ProMotion display</p>
            <div class="price">$787.99</div>
            <div class="actions">
                <button class="buy-btn" data-action="preorder">Pre-order Now</button>
                <button class="cart-btn" data-action="add-to-cart" title="Add to cart"><i class="fas fa-cart-plus"></i> Add</button>
            </div>
        </div>

        <div class="product-card" data-name="iPhone 17" data-price="687.00" data-img="">
            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQDxAQEBAQDxAQEA8PEA0QDxINDxAQFREXFhYRFRUYHCggGBolGxMVITEhJSorOjEvFx8zODMtNyotLy4BCgoKDg0OGxAQGy0dHSUvLi0uLy8tLS0tLSs[...]" alt="iPhone 17" class="product-image">
            <h3>iPhone 17</h3>
            <p class="muted">Advanced dual-camera system with Night mode</p>
            <div class="price">$687.00</div>
            <div class="actions">
                <button class="buy-btn" data-action="preorder">Pre-order Now</button>
                <button class="cart-btn" data-action="add-to-cart"><i class="fas fa-cart-plus"></i> Add</button>
            </div>
        </div>

        <div class="product-card" data-name="iPhone Air" data-price="899" data-img="https://powermaccenter.com/cdn/shop/files/IMG-18066289_m_jpeg_1_651377ee-623e-4f0e-a8a8-ec9924f08795.jpg?v=1757470893&width=823">
            <img src="https://powermaccenter.com/cdn/shop/files/IMG-18066289_m_jpeg_1_651377ee-623e-4f0e-a8a8-ec9924f08795.jpg?v=1757470893&width=823" alt="iPhone Air" class="product-image">
            <h3>iPhone Air</h3>
            <p class="muted">Ultra-lightweight design with A16 Bionic chip</p>
            <div class="price">$899</div>
            <div class="actions">
                <button class="buy-btn" data-action="preorder">Pre-order Now</button>
                <button class="cart-btn" data-action="add-to-cart"><i class="fas fa-cart-plus"></i> Add</button>
            </div>
        </div>

        <div class="product-card" data-name="iPhone 16" data-price="563.99" data-img="iphone16.jpg">
            <img src="iphone16.jpg" alt="iPhone 16" class="product-image">
            <h3>iPhone 16</h3>
            <p class="muted">Large 6.7&quot; Super Retina XDR display</p>
            <div class="price">$563.99</div>
            <div class="actions">
                <button class="buy-btn" data-action="preorder">Pre-order Now</button>
                <button class="cart-btn" data-action="add-to-cart"><i class="fas fa-cart-plus"></i> Add</button>
            </div>
        </div>

        <!-- more product cards... keep same structure -->
    </div>

    <footer>
        <p>&copy; 2025 Polaris - Premium Apple Products</p>
        <p>Experience the future of mobile technology</p>
    </footer>

    <script>
        // ---- Simple cart and pre-order interactions using localStorage ---- //
        const CART_KEY = 'polaris_cart_v1';

        function getCart() {
            try {
                return JSON.parse(localStorage.getItem(CART_KEY) || '[]');
            } catch (e) {
                return [];
            }
        }
        function saveCart(cart) {
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
            renderCartCount();
        }

        function addToCart(item) {
            const cart = getCart();
            // If same product already in cart, increase qty
            const existing = cart.find(i => i.name === item.name);
            if (existing) {
                existing.qty = (existing.qty || 1) + (item.qty || 1);
            } else {
                cart.push(Object.assign({ qty: 1 }, item));
            }
            saveCart(cart);
        }

        function renderCartCount() {
            const cart = getCart();
            const count = cart.reduce((s,i)=> s + (i.qty||1), 0);
            const el = document.getElementById('cart-count');
            if (!el) return;
            if (count > 0) {
                el.style.display = 'inline-block';
                el.textContent = count;
            } else {
                el.style.display = 'none';
            }
        }

        // On page load attach handlers
        document.addEventListener('DOMContentLoaded', () => {
            renderCartCount();

            // Add click handlers to each card's buttons
            document.querySelectorAll('.product-card').forEach(card => {
                const name = card.getAttribute('data-name') || card.querySelector('h3')?.textContent || 'Product';
                const price = parseFloat(card.getAttribute('data-price') || '0');
                const img = card.getAttribute('data-img') || card.querySelector('.product-image')?.getAttribute('src') || '';

                // Pre-order button: open pre-order page and pass product data in query string
                const preorderBtn = card.querySelector('button.buy-btn[data-action="preorder"]');
                if (preorderBtn) {
                    preorderBtn.addEventListener('click', () => {
                        const params = new URLSearchParams({ name, price, img });
                        window.location.href = 'pre-order.htm?' + params.toString();
                    });
                }

                // Add-to-cart button
                const cartBtn = card.querySelector('button.cart-btn[data-action="add-to-cart"]');
                if (cartBtn) {
                    cartBtn.addEventListener('click', () => {
                        addToCart({ name, price, img, addedAt: new Date().toISOString() });
                        // small UI feedback
                        cartBtn.innerHTML = '<i class="fas fa-check"></i> Added';
                        cartBtn.disabled = true;
                        setTimeout(() => {
                            cartBtn.innerHTML = '<i class="fas fa-cart-plus"></i> Add';
                            cartBtn.disabled = false;
                        }, 1200);
                    });
                }
            });
        });
    </script>
</body>
</html>